/* Новые анимированные фоны */

/* Шестиугольники */
.hexagon-bg {
    background-image: 
        url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M50 15L85 35v30L50 85 15 65V35L50 15z' stroke='%23808080' stroke-width='2' fill='none' stroke-opacity='0.3'/%3E%3C/svg%3E");
    background-size: 100px 100px;
    animation: hexagonMove 15s linear infinite;
}

@keyframes hexagonMove {
    0% { background-position: 0 0; }
    100% { background-position: 100px 100px; }
}

/* Треугольники */
.triangles-bg {
    background-image: 
        url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M50 15L85 50 50 85 15 50z' stroke='%23ff3333' stroke-width='1' fill='none' stroke-opacity='0.3'/%3E%3Cpath d='M20 20L80 20 50 80z' stroke='%2333ccff' stroke-width='1' fill='none' stroke-opacity='0.3'/%3E%3C/svg%3E");
    background-size: 80px 80px;
    animation: trianglesRotate 20s linear infinite;
}

@keyframes trianglesRotate {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Пузыри */
.bubbles-bg {
    background: radial-gradient(circle at 20% 30%, currentColor 5%, transparent 10%),
                radial-gradient(circle at 70% 60%, currentColor 8%, transparent 15%),
                radial-gradient(circle at 40% 80%, currentColor 6%, transparent 12%);
    background-size: 200px 200px;
    animation: bubblesFloat 25s linear infinite;
    color: #33ccff;
}

@keyframes bubblesFloat {
    0% { background-position: 0 0, 100px 100px, 200px 200px; }
    100% { background-position: 200px 200px, 300px 300px, 400px 400px; }
}

/* Звёзды */
.stars-bg {
    background-image: 
        url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M50 10L55 40H85L60 55L70 85L50 65L30 85L40 55L15 40H45z' fill='%23ffff00' fill-opacity='0.3'/%3E%3Ccircle cx='20' cy='20' r='2' fill='%23ffffff' fill-opacity='0.5'/%3E%3Ccircle cx='80' cy='30' r='1.5' fill='%23ffffff' fill-opacity='0.5'/%3E%3Ccircle cx='40' cy='70' r='1' fill='%23ffffff' fill-opacity='0.5'/%3E%3C/svg%3E");
    background-size: 150px 150px;
    animation: starsTwinkle 10s linear infinite;
}

@keyframes starsTwinkle {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 1; }
}

/* Дождь */
.rain-bg {
    background: linear-gradient(to bottom, transparent 95%, currentColor 100%);
    background-size: 5px 20px;
    animation: rainFall 1s linear infinite;
    color: #3366ff;
}

@keyframes rainFall {
    0% { background-position: 0 0; }
    100% { background-position: 0 20px; }
}

/* Глитч */
.glitch-bg {
    background: 
        linear-gradient(90deg, transparent 49%, currentColor 50%, transparent 51%),
        linear-gradient(transparent 49%, currentColor 50%, transparent 51%);
    background-size: 50px 50px;
    animation: glitch 0.1s steps(2, end) infinite;
    color: #ff00ff;
}

@keyframes glitch {
    0% { transform: translate(0); }
    20% { transform: translate(-2px, 2px); }
    40% { transform: translate(-2px, -2px); }
    60% { transform: translate(2px, 2px); }
    80% { transform: translate(2px, -2px); }
    100% { transform: translate(0); }
}

/* Матрица */
.matrix-bg {
    background: 
        linear-gradient(transparent 95%, rgba(0, 255, 0, 0.3) 100%);
    background-size: 100% 30px;
    animation: matrixFlow 20s linear infinite;
}

@keyframes matrixFlow {
    0% { background-position: 0 0; }
    100% { background-position: 0 100%; }
}

/* Спираль */
.spiral-bg {
    background: conic-gradient(from 0deg, currentColor 0%, transparent 20%);
    animation: spiralRotate 30s linear infinite;
    color: #ff3366;
}

@keyframes spiralRotate {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Туманность */
.nebula-bg {
    background: radial-gradient(ellipse at 30% 30%, #ff0066 0%, transparent 50%),
                radial-gradient(ellipse at 70% 70%, #0066ff 0%, transparent 50%),
                radial-gradient(ellipse at 50% 50%, #00ff66 0%, transparent 50%);
    animation: nebulaPulse 15s ease-in-out infinite;
}

@keyframes nebulaPulse {
    0%, 100% { opacity: 0.3; transform: scale(1); }
    50% { opacity: 0.6; transform: scale(1.1); }
}

/* Киберпанк */
.cyberpunk-bg {
    background: 
        linear-gradient(45deg, #ff00ff 25%, transparent 25%),
        linear-gradient(-45deg, #00ffff 25%, transparent 25%),
        linear-gradient(45deg, transparent 75%, #ff00ff 75%),
        linear-gradient(-45deg, transparent 75%, #00ffff 75%);
    background-size: 100px 100px;
    background-position: 0 0, 0 50px, 50px -50px, -50px 0px;
    animation: cyberpunkMove 10s linear infinite;
}

@keyframes cyberpunkMove {
    0% { background-position: 0 0, 0 50px, 50px -50px, -50px 0px; }
    100% { background-position: 100px 100px, 100px 150px, 150px 50px, 50px 100px; }
}

/* Фрактал */
.fractal-bg {
    background-image: 
        url("data:image/svg+xml,%3Csvg width='200' height='200' viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M100 20L120 60L180 70L140 100L150 160L100 130L50 160L60 100L20 70L80 60z' fill='none' stroke='%2333ffff' stroke-width='1' stroke-opacity='0.4'/%3E%3Cpath d='M100 40L110 70L140 75L120 95L125 130L100 110L75 130L80 95L60 75L90 70z' fill='none' stroke='%33ff33' stroke-width='1' stroke-opacity='0.4'/%3E%3C/svg%3E");
    background-size: 200px 200px;
    animation: fractalRotate 40s linear infinite;
}

@keyframes fractalRotate {
    0% { transform: rotate(0deg) scale(1); }
    50% { transform: rotate(180deg) scale(1.2); }
    100% { transform: rotate(360deg) scale(1); }
}

/* Микросхема 2 */
.circuit2-bg {
    background-image: 
        url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='10' y='10' width='30' height='30' fill='none' stroke='%23ff9900' stroke-width='2' stroke-opacity='0.4'/%3E%3Crect x='60' y='10' width='30' height='30' fill='none' stroke='%23ff9900' stroke-width='2' stroke-opacity='0.4'/%3E%3Crect x='10' y='60' width='30' height='30' fill='none' stroke='%23ff9900' stroke-width='2' stroke-opacity='0.4'/%3E%3Crect x='60' y='60' width='30' height='30' fill='none' stroke='%23ff9900' stroke-width='2' stroke-opacity='0.4'/%3E%3Cpath d='M40 25H60M25 40V60M75 40V60M40 75H60' stroke='%23ff9900' stroke-width='2' stroke-opacity='0.4' fill='none'/%3E%3Ccircle cx='40' cy='25' r='3' fill='%23ff9900' fill-opacity='0.4'/%3E%3Ccircle cx='60' cy='25' r='3' fill='%23ff9900' fill-opacity='0.4'/%3E%3Ccircle cx='25' cy='40' r='3' fill='%23ff9900' fill-opacity='0.4'/%3E%3Ccircle cx='25' cy='60' r='3' fill='%23ff9900' fill-opacity='0.4'/%3E%3Ccircle cx='40' cy='75' r='3' fill='%23ff9900' fill-opacity='0.4'/%3E%3Ccircle cx='60' cy='75' r='3' fill='%23ff9900' fill-opacity='0.4'/%3E%3Ccircle cx='75' cy='40' r='3' fill='%23ff9900' fill-opacity='0.4'/%3E%3Ccircle cx='75' cy='60' r='3' fill='%23ff9900' fill-opacity='0.4'/%3E%3C/svg%3E");
    background-size: 100px 100px;
    animation: circuitFlow 20s linear infinite;
}

@keyframes circuitFlow {
    0% { background-position: 0 0; }
    100% { background-position: 100px 100px; }
}

/* Лазеры */
.laser-bg {
    background: 
        linear-gradient(90deg, transparent 49%, currentColor 50%, transparent 51%),
        linear-gradient(transparent 49%, currentColor 50%, transparent 51%);
    background-size: 100px 100px;
    animation: laserScan 5s linear infinite;
    color: #00ff00;
}

@keyframes laserScan {
    0% { background-position: 0 0; }
    100% { background-position: 100px 100px; }
}

/* Сканлайны */
.scanlines-bg {
    background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(0, 255, 0, 0.1) 3px,
        rgba(0, 255, 0, 0.1) 4px
    );
    animation: scanlinesMove 0.5s linear infinite;
}

@keyframes scanlinesMove {
    0% { background-position: 0 0; }
    100% { background-position: 0 4px; }
}

/* Воронка */
.vortex-bg {
    background: conic-gradient(
        from 0deg,
        #ff0000,
        #ff9900,
        #ffff00,
        #00ff00,
        #00ffff,
        #0000ff,
        #ff00ff,
        #ff0000
    );
    animation: vortexSpin 10s linear infinite;
    opacity: 0.3;
}

@keyframes vortexSpin {
    0% { transform: rotate(0deg) scale(1); }
    100% { transform: rotate(360deg) scale(1.2); }
}

/* Общие улучшения для анимированных фонов */
.animated-bg-grid {
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    max-height: 400px;
    overflow-y: auto;
    padding: 10px;
}

.animated-bg-option .bg-preview {
    height: 100px;
    border-radius: 8px;
}